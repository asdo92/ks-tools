.\" Automatically generated by Pandoc 3.1.11.1
.\"
.TH "ks-crop" "1" "Oct 04, 2025" "2025-10-04" "Crop or change aspect ratio of a video"
.SH ks\-crop \- Crop or change aspect ratio of a video.
.SS Syntax:
.IP
.EX
$ ks\-crop \-16:9\-crop <video\-file>   \-\-> Crop from 4:3/IMAX to 16:9 (1.77:1)
$ ks\-crop \-4:3\-crop <video\-file>    \-\-> Crop from 16:9 to 4:3 (1.33:1)
$ ks\-crop \-5:4\-crop <video\-file>    \-\-> Crop from 16:9 to 5:4 (1.25:1)
$ ks\-crop \-imax\-crop <video\-file>   \-\-> Crop from 16:9 to IMAX (1.43:1)

$ ks\-crop \-16:9\-aspect <video\-file> \-\-> Change aspect to 16:9 (stretched)
$ ks\-crop \-4:3\-aspect <video\-file>  \-\-> Change aspect to 4:3 (stretched)
$ ks\-crop \-5:4\-aspect <video\-file>  \-\-> Change aspect to 5:4 (stretched)
.EE
.SS Default configuration:
.IP \[bu] 2
The script \f[CR]ks\-crop\f[R] use by default the following
configuration:
.RS 2
.IP
.EX
\- Video codec: libx264
\- Bitrate video: 5000k
\- Preset: medium
\- Audio codec: copy
\- Default Audio: spa
\- Container: mkv
.EE
.RE
.IP \[bu] 2
If you want to change the settings, you need to edit the
\f[CR]ks\-crop\f[R] file and change the following variables:
.RS 2
.IP
.EX
v_preset=\[dq]medium\[dq]
vcodec=\[dq]libx264\[dq]
b_vcodec=\[dq]5000k\[dq]
acodec=\[dq]copy\[dq]
v_ext=\[dq]mkv\[dq]
default_lang_audio=\[dq]spa\[dq]
.EE
.RE
.SS Examples (Crop):
.IP \[bu] 2
Crop from 4:3/IMAX to 16:9 (1.77:1):
.RS 2
.IP
.EX
$ ks\-crop \-16:9\-crop /data/movies/Example.mkv
.EE
.RE
.IP \[bu] 2
Crop from 16:9 to 4:3 (1.33:1):
.RS 2
.IP
.EX
$ ks\-crop \-4:3\-crop /data/movies/Example.mkv
.EE
.RE
.IP \[bu] 2
Crop from 16:9 to 5:4 (1.25:1):
.RS 2
.IP
.EX
$ ks\-crop \-5:4\-crop /data/movies/Example.mkv
.EE
.RE
.IP \[bu] 2
Crop from 16:9 to IMAX (1.43:1):
.RS 2
.IP
.EX
$ ks\-crop \-imax\-crop /data/movies/Example.mkv
.EE
.RE
.PP
\f[I]Note: Output file name will be \f[CI]Example\-crop.mkv\f[I].\f[R]
.SS Examples (Change aspect):
.IP \[bu] 2
Change aspect to 16:9 (stretched):
.RS 2
.IP
.EX
$ ks\-crop \-16:9\-aspect /data/movies/Example.mkv
.EE
.RE
.IP \[bu] 2
Change aspect to 4:3 (stretched):
.RS 2
.IP
.EX
$ ks\-crop \-4:3\-aspect /data/movies/Example.mkv
.EE
.RE
.IP \[bu] 2
Change aspect to 5:4 (stretched):
.RS 2
.IP
.EX
$ ks\-crop \-5:4\-aspect /data/movies/Example.mkv
.EE
.RE
.PP
\f[I]Note: Output file name will be \f[CI]Example\-aspect.mkv\f[I]\f[R]
.SS Execution:
.IP \[bu] 2
After executing one of the mentioned commands, a wizard will be
displayed to choose the video/audio tracks and define some parameters:
.RS 2
.IP
.EX
* Information of Example.mkv:

+ Video Tracks:
Stream #0:0(eng): Video: h264 (High)

+ Audio Tracks:
Stream #0:1(spa): Audio: dts (DTS)
Stream #0:2(spa): Audio: ac3
Stream #0:3(eng): Audio: ac3

* (Default: 0:0) Type the number of video track: 
* (Default: 0:1) Type the number of audio track: 
* (Default: 5000k) Type the bitrate (libx264): 
* (Default: n) Do you want apply \[aq]\-max_muxing_queue_size 9999\[aq] patch? (y/n): n

* COMMAND THAT WILL BE EXECUTED:

  # Crop \[aq]Example.mkv\[aq] from 16:9 to 4:3 (1.33:1)
  ffmpeg \-i Example.mkv \-fps_mode cfr \-af aresample=async=1 \-map 0:0 \-map 0:1
  \-filter:v \[dq]crop=ih/3*4:ih\[dq] \-s 1920x1440 \-c:v libx264 \-profile:v high 
  \-b:v 5000k \-preset medium \-c:a copy Example\-crop.mkv

* (Default: y) Do you want run the conversion? (y/n): n
.EE
.RE
.SS Manual
.IP \[bu] 2
This tool is part of ks-tools
